@page "/"
@using Heimdall.Models.Events

<PageTitle>Heimdall</PageTitle>

<h1 class="mb-4">Home Controls</h1>

<AuthorizeView>
    @if (!context.User.HasReadLevelAccess())
    {
        <div class="alert alert-warning" role="alert">
            &#9888;&#65039; You don't have access to see the current state of the home.
        </div>
    }
    else
    {
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-5 justify-content-start">
                    <SwitchPanel Title="Switches" />
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-lg">
                    <EventView Title="Security Events (Last 7 Days)"
                               TimeRange=TimeRange.Last7Days
                               CategoryFilter=HeimdallEventCategory.Security />
                </div>
            </div>
        </div>
    }
</AuthorizeView>
